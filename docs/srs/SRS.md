# Требования к проекту
---

# Содержание
1 [Введение](#intro)  
1.1 [Назначение](#appointment)  
1.2 [Бизнес-требования](#business_requirements)  
1.2.1 [Исходные данные](#initial_data)  
1.2.2 [Возможности бизнеса](#business_opportunities)  
1.2.3 [Границы проекта](#project_boundary)  
1.3 [Аналоги](#analogues)  
2 [Требования пользователя](#user_requirements)  
2.1 [Программные интерфейсы](#software_interfaces)  
2.2 [Интерфейс пользователя](#user_interface)  
2.3 [Характеристики пользователей](#user_specifications)  
2.3.1 [Классы пользователей](#user_classes)  
2.3.2 [Аудитория приложения](#application_audience)  
2.3.2.1 [Целевая аудитория](#target_audience)  
2.3.2.2 [Побочная аудитория](#collateral_audience)  
2.4 [Предположения и зависимости](#assumptions_and_dependencies)  
3 [Системные требования](#system_requirements)  
3.1 [Функциональные требования](#functional_requirements)  
3.1.1 [Основные функции](#main_functions)  
3.1.1.1 [Вход пользователя в приложение](#user_logon_to_the_application)  
3.1.1.2 [Настройка профиля активного пользователя](#setting_up_the_profile_of_the_active_user)  
3.1.1.3 [Просмотр каталога товаров](#view_product_catalog)  
3.1.1.4 [Просмотр информации о товаре](#view_product_info)  
3.1.1.5 [Управление корзиной](#cart_management)  
3.1.1.6 [Оформление заказа](#checkout_order)  
3.1.1.7 [Управление заказами пользователя](#user_order_management)  
3.1.1.8 [Административное управление товарами](#admin_product_management)  
3.1.1.9 [Административное управление заказами](#admin_order_management)  
3.1.1.10 [Административное управление пользователями](#admin_user_management)  
3.1.1.11 [Выход пользователя из учётной записи](#active_user_logout)  
3.1.1.12 [Регистрация нового пользователя](#add_new_user)  
3.1.2 [Ограничения и исключения](#restrictions_and_exclusions)  
3.2 [Нефункциональные требования](#non-functional_requirements)  
3.2.1 [Атрибуты качества](#quality_attributes)  
3.2.1.1 [Требования к удобству использования](#requirements_for_ease_of_use)  
3.2.1.2 [Требования к безопасности](#security_requirements)  
3.2.1.3 [Требования к надёжности](#reliability_requirements)  
3.2.1.4 [Требования к производительности](#performance_requirements)  
3.2.1.5 [Требования к масштабируемости](#scalability_requirements)  
3.2.1.6 [Требования к поддерживаемости](#maintainability_requirements)  
3.2.2 [Внешние интерфейсы](#external_interfaces)  
3.2.3 [Ограничения](#restrictions)

<a name="intro"/>

# 1 Введение

<a name="appointment"/>

## 1.1 Назначение
В этом документе описаны функциональные и нефункциональные требования к веб-приложению **Online Store**, предназначенному для организации полнофункционального интернет-магазина с возможностью управления каталогом товаров, обработки заказов и администрирования системы. Документ ориентирован на команду разработки, тестирования и управления проектом, а также на заинтересованных лиц, участвующих в создании и внедрении приложения.

<a name="business_requirements"/>

## 1.2 Бизнес-требования

<a name="initial_data"/>

### 1.2.1 Исходные данные
С ростом электронной коммерции пользователи ищут быстрый и удобный способ приобретения товаров онлайн без необходимости посещения физических магазинов  . Существующие решения часто имеют сложную навигацию, медленную скорость загрузки и неудобный процесс оформления заказа, что приводит к снижению конверсии и потере клиентов [web:9]. Бизнесу требуется современное решение с чистой архитектурой, разделением на серверную часть (REST API) и клиентскую часть (Blazor WebAssembly), что обеспечит гибкость разработки и масштабируемость  [web:3].

<a name="business_opportunities"/>

### 1.2.2 Возможности бизнеса
Приложение **Online Store** позволит:
- Покупателям быстро находить нужные товары через поиск и фильтрацию по категориям, цене и другим параметрам  .
- Оформлять заказы с минимальным количеством действий, сохраняя товары в корзине между сеансами работы.
- Управлять личным профилем и отслеживать историю заказов с возможностью просмотра статуса доставки  .
- Администраторам эффективно управлять товарами (добавление, редактирование, удаление), обрабатывать заказы, изменять их статусы и управлять учётными записями пользователей  .
- Получать автоматические уведомления по электронной почте о важных событиях (регистрация, оформление заказа, изменение статуса)  .
- Обеспечить масштабируемую архитектуру для будущего расширения функционала (интеграция с платёжными системами, складской учёт, мобильные приложения) [web:9][web:11].

<a name="project_boundary"/>

### 1.2.3 Границы проекта
**Online Store** позволяет зарегистрированным пользователям:
- Просматривать каталог товаров с подробными описаниями, фотографиями и ценами  .
- Использовать поиск и фильтрацию для быстрого нахождения товаров по категориям, цене и характеристикам.
- Добавлять товары в корзину, изменять количество и удалять позиции  .
- Оформлять заказы с указанием адреса доставки и подтверждением состава заказа  .
- Просматривать историю своих заказов и их текущие статусы  .
- Редактировать личный профиль (имя, контактные данные, пароль).

Администраторы могут:
- Управлять каталогом товаров (добавление новых позиций, редактирование описаний и цен, удаление)  .
- Обрабатывать заказы (просмотр деталей, изменение статуса, удаление)  .
- Управлять пользователями (просмотр списка, изменение ролей, блокировка аккаунтов)  .

Гости (анонимные пользователи) могут:
- Просматривать каталог товаров и карточки товаров  .
- Использовать поиск и фильтрацию для изучения ассортимента  .
- Регистрироваться для получения полного функционала  .

Проект **не включает**:
- Интеграцию с реальными платёжными системами (только имитация оплаты)  .
- Складской учёт или интеграцию с ERP-системами  .
- Офлайн-режим работы приложения  .
- Мобильные нативные приложения (только адаптивная веб-версия)  .
- Интеграцию с логистическими службами для автоматического расчёта доставки  .

<a name="analogues"/>

## 1.3 Аналоги
Существующие аналоги: Amazon, eBay, AliExpress, Ozon, Wildberries [web:9][web:10].

Преимущества **Online Store**:
- Современная архитектура с разделением на REST API (ASP.NET Core) и клиентскую часть (Blazor WebAssembly), обеспечивающая высокую производительность и возможность независимого развития компонентов  [web:3][web:9].
- Простой и интуитивный интерфейс с минимальным количеством кликов до оформления заказа  .
- Встроенная документация API через Swagger UI для удобства тестирования и интеграции  .
- Полноценный административный функционал для управления всеми аспектами магазина  .
- Гибкая система аутентификации и авторизации на основе JWT-токенов  .
- Централизованное логирование событий и ошибок для быстрого реагирования на проблемы  .

<a name="user_requirements"/>

# 2 Требования пользователя

<a name="software_interfaces"/>

## 2.1 Программные интерфейсы
Приложение **Online Store** взаимодействует со следующими программными компонентами и внешними системами  :

**Веб-фреймворк и серверная платформа:**
- **ASP.NET Core** — основной фреймворк для разработки REST API, обеспечивающий маршрутизацию запросов, обработку HTTP-запросов и формирование ответов в формате JSON  [web:3].
- **Kestrel** — встроенный кросс-платформенный веб-сервер для обработки входящих HTTP/HTTPS запросов  .
- **IIS / Nginx** (опционально) — для развёртывания в продакшн-среде и балансировки нагрузки  .

**Библиотеки для работы с данными:**
- **Entity Framework Core** — ORM для взаимодействия с базой данных (SQL Server или PostgreSQL), включая миграции схемы и выполнение LINQ-запросов  [web:3][web:11].
- **System.Text.Json** или **Newtonsoft.Json** — для сериализации и десериализации данных в формате JSON  .

**Аутентификация и безопасность:**
- **ASP.NET Core Identity** — управление пользователями, ролями и правами доступа  .
- **JWT (JSON Web Token)** — механизм безопасной аутентификации и авторизации между клиентом и сервером с передачей токенов в заголовках запросов  [web:8][web:9].
- **HTTPS / TLS** — шифрование передаваемых данных для защиты конфиденциальности  .

**Клиентская часть:**
- **Blazor WebAssembly** — фреймворк для реализации пользовательского интерфейса, работающего в браузере и взаимодействующего с REST API  [web:9][web:12].
- **Blazor Components** — готовые и кастомные UI-компоненты для отображения данных и обеспечения интерактивности  [web:12].

**Внешние сервисы и API:**
- **Сервис отправки электронной почты** (например, SendGrid, SMTP-сервер) — для отправки уведомлений о регистрации, подтверждении заказов и изменении их статусов  .
- **Сервис хранения изображений** (например, Azure Blob Storage или локальное файловое хранилище) — для хранения и предоставления фотографий товаров  .
- **Сервис геолокации / доставки** (опционально в будущем) — для расчёта стоимости и сроков доставки при интеграции с API почтовых и курьерских служб  .

**Инструменты логирования и мониторинга:**
- **Serilog** или **NLog** — для централизованного логирования событий приложения, ошибок и отладочной информации  .
- **Application Insights (Azure)** или аналог — для мониторинга производительности и анализа поведения пользователей  .

**Средства тестирования и документирования:**
- **xUnit / NUnit** — фреймворки для модульного тестирования серверной логики и бизнес-правил  .
- **Swagger UI** — интерактивная документация REST API с возможностью выполнения запросов непосредственно из браузера  .
- **Postman** — инструмент для ручного тестирования API-endpoints  .

**Веб-браузеры:**
Клиентская часть поддерживает современные веб-браузеры с WebAssembly и JavaScript: Google Chrome (последние 2 версии), Microsoft Edge (последние 2 версии), Mozilla Firefox (последние 2 версии), Safari (последние 2 версии)  .

<a name="user_interface"/>

## 2.2 Интерфейс пользователя
Система **Online Store** предоставляет пользователю адаптивный веб-интерфейс, реализованный с помощью Blazor WebAssembly, обеспечивающий корректное отображение на настольных компьютерах, ноутбуках, планшетах и смартфонах  .

**Основные принципы взаимодействия:**
- **Простота и интуитивность** — минимальное количество кликов для выполнения ключевых действий (просмотр товара, добавление в корзину, оформление заказа)  .
- **Единый стиль** — использование согласованной цветовой схемы, типографики и элементов управления на всех страницах  .
- **Обратная связь** — система отображает уведомления об успешных действиях (товар добавлен в корзину, заказ оформлен), ошибках (недостаточно данных, товар отсутствует) или необходимости подтверждения действий  .
- **Доступность** — поддержка базовых стандартов доступности, включая достаточную контрастность текста, возможность масштабирования и навигацию с клавиатуры  .

**Основные экраны и их функциональность:**

**Для гостей:**
- **Главная страница** — отображение каталога товаров с поисковой строкой, фильтрами по категориям и цене, сортировкой  .
- **Страница карточки товара** — детальная информация о товаре (название, описание, цена, фотографии, характеристики)  .
- **Форма регистрации** — поля для ввода имени, e-mail, пароля и подтверждения пароля  .
- **Форма входа** — поля для ввода e-mail и пароля, ссылка на регистрацию  .

**Для зарегистрированных пользователей:**
- Все возможности гостя плюс:
- **Корзина покупок** — список добавленных товаров с возможностью изменения количества, удаления позиций и перехода к оформлению заказа  .
- **Страница оформления заказа** — форма с полями для адреса доставки, подтверждением состава заказа и кнопкой «Оформить заказ»  .
- **История заказов** — список всех заказов пользователя с отображением статуса, даты, суммы и состава  .
- **Страница профиля** — редактирование имени, контактных данных, смена пароля  .

**Для администраторов:**
- **Административная панель управления товарами** — таблица товаров с кнопками добавления, редактирования и удаления, формы для ввода данных о товаре  .
- **Административная панель управления заказами** — список всех заказов системы с возможностью просмотра деталей, изменения статуса (новый, обработан, отправлен, доставлен, отменён)  .
- **Административная панель управления пользователями** — список пользователей с возможностью просмотра информации, изменения ролей (покупатель, администратор) и блокировки аккаунтов  .

**Таблица взаимодействия пользователя и системы:**

| Действие пользователя | Реакция системы |
|:---|:---|
| Пользователь открывает главную страницу | Отображается каталог товаров с возможностью поиска, фильтрации по категориям и цене, сортировки   |
| Пользователь вводит запрос в поисковую строку и нажимает «Поиск» | Система отправляет запрос к REST API и отображает список товаров, соответствующих запросу   |
| Пользователь применяет фильтры (категория, диапазон цен) | Система обновляет список товаров согласно выбранным фильтрам   |
| Пользователь кликает на карточку товара | Открывается страница с детальной информацией о товаре (описание, цена, фотографии, характеристики)   |
| Зарегистрированный пользователь добавляет товар в корзину | Система обновляет состояние корзины, сохраняет данные и отображает уведомление об успешном добавлении   |
| Пользователь изменяет количество товара в корзине | Система пересчитывает общую стоимость и обновляет данные в корзине   |
| Пользователь удаляет товар из корзины | Система удаляет позицию, обновляет общую сумму и отображает актуальное состояние корзины   |
| Пользователь переходит к оформлению заказа | Система отображает форму с данными заказа, полями для адреса доставки и кнопкой подтверждения   |
| Пользователь подтверждает оформление заказа | Система валидирует данные, создаёт заказ в базе, очищает корзину, отправляет уведомление на e-mail и отображает подтверждение   |
| Пользователь просматривает историю заказов | Система отображает список заказов с информацией о статусе, дате, сумме и составе   |
| Администратор заходит в панель управления товарами | Отображается интерфейс с таблицей товаров и кнопками для добавления, редактирования и удаления   |
| Администратор добавляет новый товар | Открывается форма для ввода данных товара (название, описание, цена, категория, фото); после сохранения товар появляется в каталоге   |
| Администратор редактирует товар | Открывается форма с существующими данными; после сохранения изменения отображаются в каталоге   |
| Администратор удаляет товар | Система запрашивает подтверждение, удаляет товар из базы и обновляет каталог   |
| Администратор открывает панель управления заказами | Отображается список всех заказов с информацией о пользователях, статусах и суммах   |
| Администратор изменяет статус заказа | Система обновляет данные в базе, отправляет уведомление клиенту и отображает новый статус   |
| Администратор открывает панель управления пользователями | Отображается список пользователей с информацией о ролях и статусах   |
| Администратор изменяет роль пользователя или блокирует аккаунт | Система обновляет права доступа и отображает подтверждение изменений   |
| Пользователь выходит из учётной записи | Система завершает сессию, удаляет JWT-токен и перенаправляет на страницу входа   |

<a name="user_specifications"/>

## 2.3 Характеристики пользователей

<a name="user_classes"/>

### 2.3.1 Классы пользователей

| Класс пользователей | Описание |
|:---|:---|
| Гости (анонимные пользователи) | Просмотр каталога товаров, использование поиска и фильтрации, просмотр карточек товаров без возможности оформления заказов   |
| Зарегистрированные покупатели | Все возможности гостей, плюс добавление товаров в корзину, оформление заказов, просмотр истории заказов, управление профилем   |
| Администраторы | Полный доступ к административным функциям: управление товарами (добавление, редактирование, удаление), управление заказами (просмотр, изменение статусов), управление пользователями (изменение ролей, блокировка)   |

<a name="application_audience"/>

### 2.3.2 Аудитория приложения

<a name="target_audience"/>

#### 2.3.2.1 Целевая аудитория
Целевую аудиторию составляют несколько ключевых сегментов  :

**Гости (потенциальные покупатели):**
- Возраст: от 14 до 65+ лет.
- Уровень технической грамотности: базовый — уверенно пользуются браузером, умеют искать информацию и ориентироваться в простых веб-интерфейсах  .
- Потребности: быстрый просмотр товаров, понятная навигация, наглядное представление продукции, простой процесс регистрации  .
- Поведение: изучают ассортимент без обязательств, сравнивают цены, используют поиск и фильтры для поиска нужных товаров  .

**Зарегистрированные покупатели:**
- Возраст: преимущественно 18–55 лет.
- Уровень технической грамотности: средний — привычны к онлайн-покупкам, работе с формами, управлению личными данными  .
- Потребности: стабильная работа приложения, удобное оформление заказов, возможность отслеживания статуса, безопасность персональных данных  .
- Поведение: регулярно совершают покупки, сохраняют товары в корзине, отслеживают историю заказов, ожидают быстрого отклика системы  .

**Администраторы магазина:**
- Возраст: 25–50 лет.
- Уровень технической грамотности: высокий — ежедневная работа с административными панелями, опыт работы с веб-приложениями, понимание базовых принципов функционирования систем  .
- Потребности: эффективные инструменты для управления каталогом, обработки заказов, контроля пользователей; быстрый доступ к данным, возможность массовых операций  .
- Поведение: активно используют функции добавления и редактирования товаров, меняют статусы заказов, модерируют пользователей, анализируют активность  .

<a name="collateral_audience"/>

#### 2.3.2.2 Побочная аудитория
К побочной аудитории относятся  :
- **Разработчики и технические специалисты** — команда поддержки и развития системы с профессиональными навыками в области программирования, администрирования баз данных, API и веб-технологий; используют Swagger UI для тестирования, логи для диагностики, инструменты мониторинга для контроля производительности  .
- **Маркетологи и аналитики** — сотрудники, анализирующие поведение пользователей, конверсию, популярность товаров; используют данные системы для формирования отчётов и принятия бизнес-решений.
- **Контент-менеджеры** — специалисты по наполнению каталога, подготовке описаний товаров, загрузке фотографий; могут работать через административный интерфейс или API.

<a name="assumptions_and_dependencies"/>

## 2.4 Предположения и зависимости
При разработке и эксплуатации системы **Online Store** предполагается учёт следующих факторов  :

**Предположения:**
- Пользователи имеют доступ к современным веб-браузерам, поддерживающим Blazor WebAssembly, JavaScript и WebAssembly (Google Chrome, Microsoft Edge, Mozilla Firefox, Safari последних версий)  .
- Серверная инфраструктура обеспечивает стабильное интернет-соединение и достаточные вычислительные ресурсы для обработки запросов в пиковые периоды нагрузки  .
- База данных (SQL Server или PostgreSQL) доступна и корректно настроена на момент начала интеграции  .
- Пользователи (покупатели и администраторы) обладают базовыми навыками работы с веб-приложениями и онлайн-сервисами  .
- Все интеграции с внешними сервисами (отправка почты, хранение изображений, авторизация через JWT) предоставлены в виде доступных и документированных API  .
- Клиенты предоставляют корректные данные при регистрации и оформлении заказов.
- Администраторы используют систему ответственно и не допускают случайного удаления критичных данных без подтверждения.

**Зависимости:**
- **Доступность внешних сервисов:** Сервис отправки электронной почты (SMTP-сервер или SendGrid) для уведомлений; хранилище изображений (локальное или облачное, например Azure Blob Storage) для фотографий товаров; возможные API служб доставки или геолокации для будущих интеграций  .
- **Версии и совместимость библиотек:** ASP.NET Core (версия 6.0+), Entity Framework Core (версия 6.0+), Blazor WebAssembly; обновления фреймворков могут требовать адаптации кода  .
- **Политика безопасности и защита данных:** Соответствие локальному законодательству о персональных данных, HTTPS для всех соединений, шифрование паролей, валидация входных данных  .
- **Решения по хостингу и инфраструктуре:** Облачный провайдер (Azure, AWS, Google Cloud), локальный сервер или контейнеризация (Docker, Kubernetes); выбор влияет на развёртывание, масштабирование и мониторинг  .
- **График и приоритеты разработки:** Зависимость от доступности команды разработчиков, тестировщиков, DevOps-специалистов; изменения в сроках могут повлиять на объём функционала в релизе  .
- **Стабильность платформы .NET:** Система зависит от поддержки Microsoft для ASP.NET Core и Blazor; прекращение поддержки версий может потребовать миграции.

<a name="system_requirements"/>

# 3 Системные требования

<a name="functional_requirements"/>

## 3.1 Функциональные требования

<a name="main_functions"/>

### 3.1.1 Основные функции

<a name="user_logon_to_the_application"/>

#### 3.1.1.1 Вход пользователя в приложение

| Функция | Требования |
|:---|:---|
| Вход без регистрации (гость) | Пользователь может просматривать каталог товаров, использовать поиск и фильтрацию, просматривать карточки товаров без необходимости регистрации   |
| Регистрация нового пользователя | Система предоставляет форму регистрации с полями: имя, e-mail, пароль, подтверждение пароля; проверяет уникальность e-mail; при успешной регистрации создаёт аккаунт, присваивает роль «Покупатель» и отправляет уведомление на e-mail   |
| Вход зарегистрированного пользователя | Система предоставляет форму входа с полями e-mail и пароль; при успешной аутентификации генерирует JWT-токен и предоставляет доступ к защищённым функциям (корзина, оформление заказов, история заказов, профиль)   |
| Восстановление пароля | Пользователь может запросить восстановление пароля через e-mail; система отправляет ссылку для сброса пароля |

<a name="setting_up_the_profile_of_the_active_user"/>

#### 3.1.1.2 Настройка профиля активного пользователя

| Функция | Требования |
|:---|:---|
| Просмотр профиля | Зарегистрированный пользователь может просматривать свои данные: имя, e-mail, дату регистрации   |
| Редактирование профиля | Пользователь может изменять имя, контактную информацию (телефон, адрес)   |
| Смена пароля | Пользователь может изменить пароль, указав текущий пароль и новый пароль с подтверждением; система проверяет корректность текущего пароля и сохраняет новый после хеширования   |

<a name="view_product_catalog"/>

#### 3.1.1.3 Просмотр каталога товаров

| Функция | Требования |
|:---|:---|
| Отображение списка товаров | Система предоставляет REST API для получения списка товаров с пагинацией; отображает товары в виде карточек с изображением, названием, ценой и кнопкой «Подробнее»   |
| Поиск товаров | Пользователь может вводить текстовый запрос в поисковую строку; система выполняет поиск по названию, описанию и категории товаров и возвращает соответствующие результаты   |
| Фильтрация товаров | Пользователь может применять фильтры по категории, диапазону цен, бренду, наличию на складе; система обновляет список товаров согласно выбранным критериям   |
| Сортировка товаров | Пользователь может сортировать товары по цене (возрастание/убывание), популярности, новизне, рейтингу   |

<a name="view_product_info"/>

#### 3.1.1.4 Просмотр информации о товаре

| Функция | Требования |
|:---|:---|
| Отображение карточки товара | Система предоставляет REST API для получения детальной информации о товаре по его идентификатору; отображает название, описание, цену, характеристики, фотографии, наличие на складе   |
| Просмотр изображений товара | Пользователь может просматривать все доступные фотографии товара в увеличенном виде; система загружает изображения из хранилища   |
| Отображение похожих товаров | Система может отображать список похожих товаров из той же категории для удобства выбора |

<a name="cart_management"/>

#### 3.1.1.5 Управление корзиной

| Функция | Требования |
|:---|:---|
| Добавление товара в корзину | Зарегистрированный пользователь может добавить товар в корзину, указав количество; система сохраняет данные в базе и отображает уведомление об успешном добавлении   |
| Просмотр корзины | Пользователь может просмотреть список товаров в корзине с отображением названия, цены, количества, суммы по каждой позиции и общей стоимости заказа   |
| Изменение количества товара | Пользователь может увеличить или уменьшить количество товара в корзине; система пересчитывает общую стоимость и обновляет данные   |
| Удаление товара из корзины | Пользователь может удалить позицию из корзины; система обновляет список товаров и общую сумму   |
| Очистка корзины | Пользователь может удалить все товары из корзины одним действием |
| Сохранение корзины между сессиями | Корзина сохраняется на сервере и доступна при повторном входе пользователя |

<a name="checkout_order"/>

#### 3.1.1.6 Оформление заказа

| Функция | Требования |
|:---|:---|
| Переход к оформлению заказа | Пользователь может перейти из корзины к оформлению заказа; система отображает форму с полями для адреса доставки, способа доставки, комментариев   |
| Валидация данных заказа | Система проверяет корректность введённых данных (заполненность обязательных полей, формат адреса); при наличии ошибок отображает сообщения   |
| Подтверждение и создание заказа | После подтверждения система создаёт заказ в базе данных со статусом «Новый», сохраняет состав заказа, адрес доставки, дату и время создания; очищает корзину пользователя; отправляет уведомление на e-mail пользователя с деталями заказа   |
| Имитация оплаты | Система имитирует процесс оплаты без реальной интеграции с платёжными системами; отображает сообщение об успешной оплате   |

<a name="user_order_management"/>

#### 3.1.1.7 Управление заказами пользователя

| Функция | Требования |
|:---|:---|
| Просмотр истории заказов | Зарегистрированный пользователь может просматривать список своих заказов с отображением номера заказа, даты, статуса, общей суммы   |
| Просмотр деталей заказа | Пользователь может просмотреть детальную информацию о заказе: список товаров, количество, цены, адрес доставки, текущий статус   |
| Отслеживание статуса заказа | Система отображает текущий статус заказа (новый, обработан, отправлен, доставлен, отменён) и дату последнего изменения   |
| Отмена заказа | Пользователь может отменить заказ, если он находится в статусе «Новый» или «Обработан»; система изменяет статус на «Отменён» и отправляет уведомление |

<a name="admin_product_management"/>

#### 3.1.1.8 Административное управление товарами

| Функция | Требования |
|:---|:---|
| Просмотр списка товаров | Администратор может просматривать полный список товаров в системе в табличном виде с информацией о названии, цене, категории, наличии   |
| Добавление нового товара | Администратор может добавить новый товар через форму с полями: название, описание, цена, категория, бренд, количество на складе, фотографии; система валидирует данные и сохраняет товар в базе   |
| Редактирование товара | Администратор может изменить информацию о существующем товаре; система загружает текущие данные в форму редактирования, принимает изменения и обновляет запись в базе   |
| Удаление товара | Администратор может удалить товар из каталога; система запрашивает подтверждение, удаляет запись из базы данных и обновляет каталог   |
| Загрузка изображений товаров | Администратор может загружать фотографии товаров; система сохраняет файлы в хранилище и связывает их с товаром   |
| Управление категориями | Администратор может создавать, редактировать и удалять категории товаров |

<a name="admin_order_management"/>

#### 3.1.1.9 Административное управление заказами

| Функция | Требования |
|:---|:---|
| Просмотр списка всех заказов | Администратор может просматривать список всех заказов в системе с информацией о пользователе, дате, статусе, сумме   |
| Просмотр деталей заказа | Администратор может открыть детальную информацию о заказе: список товаров, данные пользователя, адрес доставки, статус, история изменений   |
| Изменение статуса заказа | Администратор может изменить статус заказа (новый → обработан → отправлен → доставлен или отменён); система сохраняет изменения, отправляет уведомление пользователю по e-mail   |
| Удаление заказа | Администратор может удалить заказ из системы после запроса подтверждения; система удаляет запись из базы данных   |
| Фильтрация и поиск заказов | Администратор может фильтровать заказы по статусу, дате, пользователю; искать заказы по номеру или e-mail клиента |

<a name="admin_user_management"/>

#### 3.1.1.10 Административное управление пользователями

| Функция | Требования |
|:---|:---|
| Просмотр списка пользователей | Администратор может просматривать список всех зарегистрированных пользователей с информацией об имени, e-mail, роли, дате регистрации   |
| Просмотр информации о пользователе | Администратор может открыть детальную информацию о пользователе: профиль, история заказов, активность |
| Изменение роли пользователя | Администратор может изменить роль пользователя (покупатель, администратор); система обновляет права доступа   |
| Блокировка/разблокировка пользователя | Администратор может заблокировать учётную запись пользователя, что запретит вход в систему; разблокировка восстанавливает доступ   |
| Удаление пользователя | Администратор может удалить учётную запись пользователя после подтверждения; система удаляет данные из базы (с учётом политики хранения заказов) |

<a name="active_user_logout"/>

#### 3.1.1.11 Выход пользователя из учётной записи

| Функция | Требования |
|:---|:---|
| Выход из системы | Пользователь может выйти из учётной записи; система завершает сессию, удаляет JWT-токен из клиента и перенаправляет на страницу входа или главную страницу   |

<a name="add_new_user"/>

#### 3.1.1.12 Регистрация нового пользователя

| Функция | Требования |
|:---|:---|
| Регистрация через форму | Пользователь заполняет форму регистрации с полями: имя, e-mail, пароль (минимум 6 символов), подтверждение пароля   |
| Валидация данных | Система проверяет корректность введённых данных: уникальность e-mail, совпадение паролей, корректность формата e-mail; при ошибках отображает сообщения   |
| Создание учётной записи | После успешной валидации система создаёт аккаунт с ролью «Покупатель», сохраняет хешированный пароль в базе данных, отправляет приветственное письмо на e-mail   |
| Автоматический вход | После регистрации пользователь автоматически входит в систему с полученным JWT-токеном |

<a name="restrictions_and_exclusions"/>

### 3.1.2 Ограничения и исключения
1. **Требование подключения к интернету:** Все функции приложения требуют стабильного соединения с сервером; офлайн-режим не поддерживается  .
2. **Анонимные пользователи не могут оформлять заказы:** Гости могут только просматривать каталог; для добавления в корзину и оформления заказа требуется регистрация и вход  .
3. **Отсутствие реальной оплаты:** Интеграция с платёжными системами не реализована; процесс оплаты имитируется  .
4. **Отсутствие складского учёта:** Система не интегрирована с ERP-системами для автоматического управления складскими остатками  .
5. **Поддержка только веб-версии:** Мобильные нативные приложения (iOS, Android) не предусмотрены; доступна адаптивная веб-версия  .
6. **Ограничение по размеру и формату изображений:** Администраторы могут загружать изображения товаров размером до 5 МБ в форматах JPEG, PNG, WebP.
7. **Ограничение прав доступа:** Изменение критически важных настроек системы (база данных, конфигурации сервера) доступно только через административный доступ к серверу, а не через веб-интерфейс.
8. **Ограничение на количество товаров в заказе:** Максимальное количество одного товара в заказе — 999 единиц.
9. **Отсутствие многоязычности:** Интерфейс доступен только на одном языке (русский); локализация не реализована.

<a name="non-functional_requirements"/>

## 3.2 Нефункциональные требования

<a name="quality_attributes"/>

### 3.2.1 Атрибуты качества

<a name="requirements_for_ease_of_use"/>

#### 3.2.1.1 Требования к удобству использования
Интерфейс системы должен быть интуитивно понятным и доступным для пользователей с разным уровнем технической подготовки  :
- **Простота навигации:** Не более 3–4 кликов для выполнения целевого действия (просмотр товара, добавление в корзину, оформление заказа)  .
- **Юзабилити-тестирование:** Не менее 80% тестовых пользователей успешно выполняют ключевые сценарии (поиск товара, оформление заказа) без помощи и инструкций  .
- **Обратная связь системы:** Все действия пользователя сопровождаются визуальной обратной связью (уведомления об успехе, ошибки, индикаторы загрузки) в течение 0,5 секунд  .
- **Адаптивный дизайн:** Корректное отображение интерфейса на экранах с разрешением от 320px (мобильные устройства) до 2560px (настольные мониторы)  .
- **Доступность:** Интерфейс поддерживает масштабирование текста до 200% без потери функциональности; контрастность текста соответствует стандарту WCAG 2.1 уровня AA  .
- **Методы проверки:** Юзабилити-тестирование с участием реальных пользователей, анализ поведения через аналитические системы (Google Analytics), опросы удовлетворённости  .

<a name="security_requirements"/>

#### 3.2.1.2 Требования к безопасности
Система должна защищать персональные данные пользователей и предотвращать несанкционированный доступ  :
- **Шифрование передачи данных:** Все соединения между клиентом и сервером используют HTTPS с TLS 1.2 или выше  .
- **Аутентификация и авторизация:** Использование JWT-токенов для безопасной аутентификации; токены имеют ограниченный срок действия (15–60 минут) с возможностью обновления через refresh-токены  .
- **Хеширование паролей:** Пароли хранятся в базе данных в виде хешей с использованием алгоритмов bcrypt или PBKDF2 с солью  .
- **Защита от атак:** Система защищена от SQL-инъекций (использование параметризованных запросов через Entity Framework Core), XSS (санитизация вывода), CSRF (использование anti-forgery токенов)  .
- **Валидация входных данных:** Все входные данные валидируются на стороне сервера; недопустимые символы и скрипты фильтруются  .
- **Ограничение прав доступа:** API-endpoints защищены атрибутами авторизации с проверкой ролей; анонимные пользователи не имеют доступа к защищённым ресурсам  .
- **Аудит безопасности:** Система должна пройти тестирование на уязвимости по методологии OWASP Top 10; отсутствие критических уязвимостей  .
- **Методы проверки:** Тестирование на проникновение, статический анализ кода (SAST), аудит конфигураций сервера, проверка соответствия требованиям HTTPS  .

<a name="reliability_requirements"/>

#### 3.2.1.3 Требования к надёжности
Система должна обеспечивать стабильную работу без сбоев в течение длительного времени  :
- **Коэффициент доступности (uptime):** Не ниже 99,5% в месяц, что соответствует не более 3,6 часа недоступности  .
- **Критические сбои:** Не более 1 критического сбоя в месяц; критический сбой — полная недоступность сервиса или потеря данных  .
- **Сохранность данных:** Все транзакции (создание заказа, изменение профиля, добавление товара) должны быть атомарными; при сбое данные откатываются к последнему согласованному состоянию  .
- **Резервное копирование:** Автоматическое резервное копирование базы данных не реже 1 раза в сутки с возможностью восстановления за последние 30 дней.
- **Обработка ошибок:** Система корректно обрабатывает ошибки и отображает понятные сообщения пользователям без раскрытия технических деталей; критические ошибки логируются  .
- **Методы проверки:** Нагрузочное тестирование, мониторинг доступности (использование Application Insights или аналогов), анализ логов ошибок, тестирование восстановления после сбоев  .

<a name="performance_requirements"/>

#### 3.2.1.4 Требования к производительности
Система должна быстро обрабатывать запросы для обеспечения положительного пользовательского опыта  :
- **Время отклика API:** Не более 500 мс для 95% запросов при средней нагрузке (до 100 одновременных пользователей)  .
- **Время загрузки страниц:** Основные страницы UI (главная, каталог, карточка товара) загружаются за 2 секунды или менее при среднескоростном интернет-соединении (5 Мбит/с)  .
- **Обработка запросов:** Система способна обрабатывать до 1000 запросов в минуту к API без значительного снижения производительности.
- **Пропускная способность базы данных:** База данных обрабатывает до 500 операций чтения и 200 операций записи в секунду.
- **Оптимизация запросов:** Использование индексов для часто запрашиваемых полей (идентификаторы товаров, категории, статусы заказов); кеширование часто используемых данных (список категорий, популярные товары).
- **Методы проверки:** Нагрузочное тестирование (Apache JMeter, k6, Gatling), профилирование кода, мониторинг времени отклика через Application Insights  .

<a name="scalability_requirements"/>

#### 3.2.1.5 Требования к масштабируемости
Система должна поддерживать увеличение количества пользователей и объёма данных без значительного снижения производительности  :
- **Горизонтальное масштабирование:** Возможность развёртывания нескольких экземпляров серверного приложения с использованием балансировщика нагрузки (Nginx, Azure Load Balancer).
- **Увеличение нагрузки:** Система способна обслуживать рост нагрузки в 2–3 раза (до 300 одновременных пользователей) без критического падения скорости работы  .
- **Масштабирование базы данных:** Возможность вертикального масштабирования (увеличение ресурсов сервера БД) и горизонтального масштабирования (репликация для чтения, шардинг в будущем).
- **Масштабирование хранилища:** Использование масштабируемых решений для хранения изображений (Azure Blob Storage, AWS S3) с поддержкой CDN для ускорения загрузки.
- **Методы проверки:** Стресс-тестирование с увеличенной нагрузкой, тестирование в условиях пиковых значений (Black Friday, распродажи)  .

<a name="maintainability_requirements"/>

#### 3.2.1.6 Требования к поддерживаемости
Система должна быть легко модифицируема и сопровождаема без значительных затрат времени и ресурсов  :
- **Время внесения изменений:** Мелкие доработки (изменение текста, добавление поля в форму) не должны занимать более 8 часов; средние доработки (добавление нового поля в модель с миграцией БД) — до 24 часов  .
- **Модульная структура кода:** Код разделён на слои (Presentation, Application, Domain, Infrastructure) с чёткими границами ответственности  [web:3][web:11].
- **Документация:** Наличие актуальной технической документации: описание архитектуры, API (Swagger UI), инструкции по развёртыванию, руководство по внесению изменений  .
- **Покрытие тестами:** Модульные тесты покрывают не менее 70% критической бизнес-логики (создание заказа, расчёт стоимости, проверка прав доступа); интеграционные тесты проверяют взаимодействие с API и БД  .
- **Логирование:** Централизованное логирование всех ошибок, предупреждений и ключевых событий (регистрация, оформление заказа, изменение статуса) с использованием Serilog или NLog  .
- **Контроль версий:** Использование Git для управления исходным кодом с понятной историей коммитов и ветвлением (Git Flow, GitHub Flow).
- **Методы проверки:** Ревью кода (code review), анализ архитектуры, проверка полноты документации, запуск тестов при сборке (CI/CD)  .

<a name="external_interfaces"/>

### 3.2.2 Внешние интерфейсы
Система взаимодействует с внешними интерфейсами для расширения функциональности  :
- **REST API:** Все взаимодействия между клиентом (Blazor WebAssembly) и сервером (ASP.NET Core) осуществляются через RESTful API с обменом данными в формате JSON  .
- **Swagger UI:** Интерактивная документация API, доступная для разработчиков и тестировщиков; позволяет просматривать endpoints, параметры, форматы запросов и выполнять тестовые запросы  .
- **SMTP / SendGrid:** Интеграция с сервисом отправки электронной почты для уведомлений о регистрации, оформлении заказа, изменении статуса  .
- **Azure Blob Storage / AWS S3 / локальное хранилище:** Интеграция для загрузки, хранения и предоставления изображений товаров  .
- **Application Insights / Serilog:** Интеграция с системами мониторинга и логирования для отслеживания производительности, ошибок и событий  .

<a name="restrictions"/>

### 3.2.3 Ограничения
Система имеет следующие ограничения  :
- **Платформа:** Серверная часть работает на платформе .NET 6.0 или выше; требуется совместимая операционная система (Windows Server, Linux).
- **База данных:** Поддерживаются SQL Server 2017+ или PostgreSQL 12+; использование других СУБД требует адаптации кода.
- **Браузеры:** Клиентская часть поддерживает браузеры с WebAssembly: Google Chrome 90+, Microsoft Edge 90+, Mozilla Firefox 88+, Safari 14+.
- **Размер данных:** Максимальный размер запроса к API — 10 МБ; максимальный размер загружаемого изображения — 5 МБ.
- **Количество записей:** Каталог товаров поддерживает до 100 000 товаров; история заказов — до 1 000 000 записей без снижения производительности.
- **Отсутствие офлайн-режима:** Все функции требуют активного подключения к интернету; локальное кеширование данных не реализовано.
- **Язык интерфейса:** Интерфейс доступен только на русском языке; многоязычность не поддерживается.
- **Отсутствие мобильных приложений:** Доступна только веб-версия; нативные приложения для iOS и Android не предусмотрены.
