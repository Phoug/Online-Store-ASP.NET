# Тестовый план для системы управления онлайн-магазином

## Информация о документе
- **Проект:** Онлайн-магазин на ASP.NET
- **Версия:** 1.0
- **Статус:** Утвержден

## Оглавление
1. [Введение](#введение)
2. [Цели тестирования](#цели-тестирования)
3. [Область тестирования](#область-тестирования)
4. [Стратегия тестирования](#стратегия-тестирования)
5. [Типы тестирования](#типы-тестирования)
6. [Тестовая среда](#тестовая-среда)
7. [Тестовые данные](#тестовые-данные)
8. [График тестирования](#график-тестирования)
9. [Результаты тестирования](#результаты-тестирования)
10. [Оценка рисков](#оценка-рисков)
11. [Инструменты тестирования](#инструменты-тестирования)

## 1. Введение

### 1.1 Назначение
Данный тестовый план определяет стратегию тестирования системы управления онлайн-магазином — REST API на платформе ASP.NET Core для обработки заказов, каталога товаров, управления пользователями и избранным. План обеспечивает всестороннюю проверку функциональных и нефункциональных требований.

### 1.2 Область применения
Тестовый план охватывает полную серверную часть приложения:
- Контроллеры API (Product, Order, User, Wishlist, Cart, Review)
- Сервисный слой бизнес-логики
- Взаимодействие с базой данных (Entity Framework Core)
- Аутентификация и авторизация пользователей
- Управление заказами и доступностью товаров
- Обработка корзины и избранного

### 1.3 Ссылки
- Спецификация требований к ПО (SRS.md)
- Документация доменной модели
- Документация сценариев использования
- Диаграммы архитектуры компонентов

## 2. Цели тестирования

### 2.1 Основные цели
- Подтверждение корректной реализации всех функциональных требований SRS
- Проверка соответствия нефункциональным требованиям (производительность, безопасность, удобство)
- Валидация интеграции между контроллерами и сервисами
- Обеспечение целостности данных и согласованности заказов
- Тестирование пользовательского опыта API

### 2.2 Критерии успеха
- Все критические функции заказов работают согласно спецификации
- Время ответа API < 500 мс для основных операций
- Уязвимости безопасности выявлены и устранены
- Отсутствие потери данных и двойных заказов
- Покрытие кода тестами ≥90%

## 3. Область тестирования

### 3.1 В области тестирования
- **Управление пользователями:** Регистрация, вход, профиль
- **Каталог товаров:** Список, поиск, детальная информация, фильтрация
- **Управление заказами:** Создание, изменение, отмена заказов
- **Корзина:** Добавление/удаление товаров, расчет стоимости
- **Избранное:** Добавление/удаление товаров в избранное
- **Отзывы:** Создание, редактирование отзывов о товарах
- **База данных:** CRUD операции, целостность данных
- **Бизнес-логика:** Валидация дат, проверка доступности, расчет цен

### 3.2 Вне области тестирования
- Интеграция платежных шлюзов
- Система уведомлений по email/SMS
- Интеграция с внешними каталогами товаров
- Расширенная аналитика и отчетность
- Frontend клиентское приложение
- Многоязычная локализация

## 4. Стратегия тестирования

### 4.1 Подход к тестированию
- **Тестирование по рискам:** Приоритет критическим операциям заказов
- **Интеграционное тестирование:** Проверка взаимодействия контроллеров и сервисов
- **Системное тестирование:** Полный рабочий процесс оформления заказа
- **Тестирование целостности данных:** Предотвращение двойных заказов

### 4.2 Уровни тестирования
1. **Модульные тесты:** Методы контроллеров и сервисов
2. **Интеграционные тесты:** API endpoints и взаимодействие с БД
3. **Системные тесты:** Полный цикл заказа
4. **Приемочные тесты:** Сценарии пользователей и бизнес-требования

## 5. Типы тестирования

### 5.1 Функциональное тестирование

#### 5.1.1 Управление пользователями
- **Регистрация пользователя**
  - Успешная регистрация с полными данными
  - Регистрация с отсутствующими обязательными полями
  - Дублирование email/логина
  - Валидация сложности пароля

- **Аутентификация**
  - Успешный вход с корректными учетными данными
  - Отказ входа с неверными данными
  - Управление сессиями и таймауты
  - Выход из системы

#### 5.1.2 Каталог товаров
- **Операции с товарами**
  - Список товаров с пагинацией
  - Поиск по названию, категории, цене
  - Детальная информация о товаре
  - Фильтрация по характеристикам

#### 5.1.3 Управление заказами
- **Создание заказа**
  - Успешное создание заказа
  - Валидация данных заказа
  - Проверка доступности товаров
  - Подтверждение заказа

- **Изменение заказа**
  - Изменение состава товаров
  - Изменение количества
  - Проверка доступности при изменении

- **Отмена заказа**
  - Успешная отмена
  - Восстановление доступности товаров
  - Подтверждение отмены

#### 5.1.4 Корзина и избранное
- **Корзина:** Добавление/удаление товаров, пересчет итога
- **Избранное:** Добавление/удаление товаров, отображение списка

### 5.2 Нефункциональное тестирование

#### 5.2.1 Тестирование производительности
- Время ответа API: <500мс для критических операций
- Оптимизация запросов к БД
- Обработка параллельных заказов
- Производительность поиска

#### 5.2.2 Тестирование безопасности
- Безопасность аутентификации (хеширование паролей)
- Контроль доступа к данным
- Защита от SQL-инъекций
- Валидация входных данных

#### 5.2.3 Тестирование удобства
- Понятные сообщения об ошибках
- Корректная валидация форм
- Логичная структура ответов API

### 5.3 Интеграционное тестирование
- Интеграция контроллеров и сервисов
- CRUD операции с БД
- Транзакционная согласованность

## 6. Тестовая среда

### 6.1 Аппаратные требования
- Процессор: Многоядерный
- ОЗУ: 8 ГБ минимум
- Диск: 20 ГБ свободного места

### 6.2 Программные требования
- **Backend:** .NET 8.0+, ASP.NET Core
- **База данных:** SQL Server / PostgreSQL
- **Инструменты:** xUnit, Moq, Postman

## 7. Тестовые данные

### 7.1 Тестовые пользователи
- Пользователи с заказами
- Пользователи с корзиной
- Администраторы

### 7.2 Тестовые товары
- Различные категории
- Разные цены и характеристики
- Товары с отзывами

### 7.3 Тестовые заказы
- Активные заказы
- Отмененные заказы
- Заказы с разным статусом

## 8. График тестирования

### 8.1 Этапы тестирования
1. **Модульные тесты:** Неделя 1-2
2. **Интеграционные тесты:** Неделя 3
3. **Системные тесты:** Неделя 4
4. **Приемочные тесты:** Неделя 5

## 9. Результаты тестирования

### 9.1 Тестовая документация
- Тестовый план (настоящий документ)
- Подробные тест-кейсы
- Отчеты о результатах
- Отчеты об ошибках

## 10. Оценка рисков

### 10.1 Выявленные риски
**Высокий риск:**
- NullReferenceException при создании заказов
- Двойные заказы одного товара

**Средний риск:**
- Несовпадение типов DTO в тестах
- Блокировка PDB файлов

## 11. Инструменты тестирования

### 11.1 Backend тестирование
- **xUnit:** Фреймворк модульных тестов
- **Moq:** Мокирование зависимостей
- **ReportGenerator:** Анализ покрытия кода
- **Postman:** Тестирование API

---

**Контроль документа**
- **Версия:** 1.0
- **Следующий пересмотр:** После основных изменений архитектуры
